# Playing with particles 使用粒子

我们的射击游戏开始有了一个好的样子，接下来，我们会使用粒子增强一下效果。

粒子是（基本上）指在非常短的一段时间里重复和显示的简单sprites(精灵)。

想想爆炸，激光，烟等等效果，它们都是用粒子做的---在大多数情况下(爆炸效果可以是一个简单的动画精灵)。

Unity为粒子提供了一个强大的内置编辑器，使用的是*Shuriken Engine*。

让我们看看能用它做些啥。

## 爆炸 PREFAB

我们将制作一个爆炸效果，它会在enemy或player被摧毁时用到。这会包含以下内容：

1. 为爆炸效果制作一个粒子系统 (做成prefab)
2. 在需要的时候，实例化并播放它。

一个爆炸效果通常需要两个东西：火和烟。

## 烟粒子

创建一个新的“Particle System” ("Game Object" -> "Effects" -> "Particle System")。

> 小巧门：我们建议你在场景的空旷的位置进行（或者在一个空场景里），以便你可以看得更清楚它是什么样子的。
>
> 如果你想在场景里把焦点放到对象上，你可以在"Hierarchy"里`double-click`它或者在“Scene”视图里按`F`。

放大这个粒子系统，你会看到这个粒子对象在连续的发出火花：

[![Creating a new particle system](https://pixelnest.io/tutorials/2d-game-unity/particles/-img/new_particle_system.png)](https://pixelnest.io/tutorials/2d-game-unity/particles/-img/new_particle_system.png)

观察在“Scene”视图中的新窗口 (有"Pause"和"Stop")或"Inspector"方框。在"Inspector"里已经有一打相关参数了。

*这就是有趣的地方！*

> *注*：当你从"Hierarchy"里选择一个粒子系统时，它会开始模拟运行，当你不选择它时模拟会停止。当你构思的时候，它真的非常实用，让你看看它是什么样子的 (而且立即可以看到)

我们将使用下面这个sprite (精灵) 来做为烟粒子：

[![Cloud sprite](https://pixelnest.io/tutorials/2d-game-unity/particles/-img/cloud.png)](https://pixelnest.io/tutorials/2d-game-unity/particles/-img/cloud.png)

*(右键点击图片，并保存它)*

> 小巧门：如果你在使用自己的素材时有透明度的问题，请确认透明像素是0alpha的黑色像素。确实，即使一个像素不可见，但它仍然是有值的。这是计算机使用的。

复制这图片到"Textures"目录里。将"Texture Type"设置为~~"Texture"~~ "Default"，选上"Alpha Is Transparent"。像下在这样：

![Cloud settings](https://github.com/yuiitsu/Article/blob/master/Unity-Tutorials/2d-game-unity/images/0901.png?raw=true)

将这个texture设置到粒子对象上：

1. 拖动texture到粒子系统的"Inspector"里，或者在"Hierarchy"的粒子对象上，它会将texture设置到右侧"Inspector"的属性里。
2. 设置shader,"Legacy Shaders" -> "Particles" -> "Alpha Blended"

![](https://github.com/yuiitsu/Article/blob/master/Unity-Tutorials/2d-game-unity/images/0902.png?raw=true)

为了做出完美的烟粒子，我们还需要对粒子系统的"Inspector"做一些设置。

在本教程，我们推荐这样：

| 类型                | 参数           | 值         |
| ------------------- | -------------- | ---------- |
| General             | Duration       | 1          |
| General             | Max Particles  | 15         |
| General             | Start Lifetime | 1          |
| General             | Start Color    | Gray       |
| General             | Start Speed    | 3          |
| General             | Start Size     | 2          |
| Emission            | Bursts         |            |
| Shape               | Shape          | Sphere     |
| Color Over Lifetime | Color          | 看下面的N1 |
| Size Over Lifetime  | Size           | 看下面的N2 |

#### N1 - Color Over Lifetime

在最后面设置一个透明点用来创建淡出效果

[![Fade out particles](https://pixelnest.io/tutorials/2d-game-unity/particles/-img/fade_out.png)](https://pixelnest.io/tutorials/2d-game-unity/particles/-img/fade_out.png)

#### N2 - Size Over Lifetime

选择减少的曲线：

[![Curve editor](https://pixelnest.io/tutorials/2d-game-unity/particles/-img/decreasing_curve.png)](https://pixelnest.io/tutorials/2d-game-unity/particles/-img/decreasing_curve.png)

> 译者注：双击线的中间，创建一个点，按图上的样子拖动3个点

